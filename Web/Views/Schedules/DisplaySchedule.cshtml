@{
    ViewData["Title"] = "Schedule Graph";
}

<h2>Schedule Visualization</h2>

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}

@if (ViewBag.FileExists)
{
    <div class="alert alert-success">
        <p>Schedule graph generated successfully!</p>
    </div>
    @* <iframe src="@ViewBag.PlotPath" width="100%" height="700px" style="border: 1px solid #ccc;"></iframe> *@
    <iframe src="@(ViewBag.PlotPath)?v=@DateTime.Now.Ticks" width="100%" height="700px"
        style="border: 1px solid #ccc;"></iframe>
}
else
{
    <div class="alert alert-warning">
        <p>The schedule graph file was not found. The Python script may have failed to generate it.</p>
    </div>
}

<div class="mt-3">
    <a href="@Url.Action("CreateSchedule")" class="btn btn-primary">Generate New Schedule</a>
</div>
